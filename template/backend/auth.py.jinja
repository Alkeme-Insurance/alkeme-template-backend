{% if use_azure_auth -%}
"""Azure AD authentication configuration."""

from __future__ import annotations

from fastapi_azure_auth import SingleTenantAzureAuthorizationCodeBearer

from backend.config import settings

azure_scheme = SingleTenantAzureAuthorizationCodeBearer(
    app_client_id=settings.AZURE_CLIENT_ID,
    tenant_id=settings.AZURE_TENANT_ID,
    scopes=settings.SCOPES,
    allow_guest_users=True,
)
{% endif -%}

